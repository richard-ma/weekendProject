# Deb包

Deb包是Linux发行版Debian采用的包管理系统默认的包格式，许多基于Debian的Linux发行版也默认使用这种二进制安装包格式。

## Deb包结构
1. debian-binary：是一个文本文件，包含了 deb 文件的格式版本号，通常内容为 “2.0\n”。
2. control.tar.gz：这包含了软件包的元数据和控制脚本。文件主要对包的信息进行记录，在安装或卸载包时，根据这些信息进行相应的操作。
3. data.tar.gz：该文件包含了实际安装的程序数据，是安装后真正使用的软件部分，如软件的二进制执行文件、库文件、配置文件、文档等。

## Deb打包步骤

手动打包就是按固定规范创建目录并加入需要的文件，再用dpkg-deb命令将其压缩封装为deb包的过程。

### 创建目录
1. 打包使用的根目录，目录名格式为`包名_版本_架构`，例如程序名为myapp，版本为1.0.0，在64为PC上运行，目录名称就是`myapp_1.0.0_amd64`。
    1. 包名通常和软件名称相同。
    1. 版本号可以根据软件的版本号填写
    1. 架构通常有以下几种：`amd64`为64为x86架构计算机，`arm64`为arm架构计算机，`all`为跨架构（所有架构都可以使用，通常为纯数据包或者不受架构影响的脚本程序包）
1. 根目录中的目录文件结构图

    myapp_1.0.0_amd64/  
    ├ DEBIAN/          # 固定大写，存放控制信息与脚本  
    │ ├── control      # 必选：包元数据核心文件  
    │ ├── preinst      # 可选：安装前执行脚本  
    │ ├── postinst     # 可选：安装后执行脚本  
    │ ├── prerm        # 可选：卸载前执行脚本  
    │ └── postrm       # 可选：卸载后执行脚本  
    ├ usr/             # 模拟系统根目录，存放实际程序文件  
    │ ├── bin/         # 可执行文件路径  
    │ ├── lib/         # 库文件路径  
    │ └── share/       # 图标、文档、desktop文件  
    └ etc/             # 配置文件路径  

    1. DEBIAN目录中的所有文件都是存放包信息的文件
    1. 其他目录中（/usr /etc等）的文件是软件要使用的文件，会被复制到系统对应的目录中
1. 